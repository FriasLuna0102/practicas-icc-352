<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detalles del Artículo</title>
    <!-- <link href="/css/mostrarArticulo.css" rel="stylesheet"> -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
<!-- Verificar si hay al menos un artículo en la lista -->
<!-- Verificar si hay al menos un artículo en la lista -->
<!-- Contenido del artículo -->
<h1><a th:href="'/articulo/' + ${articulo.id}" th:text="${articulo.titulo}"></a></h1>
<p class="lead"><i class="fa fa-user"></i> <a href="" th:text="${articulo.autor.username}"></a></p>
<hr>
<p> Posted on <i class="fa fa-calendar" th:text="${articulo.fecha}"></i> </p>
<th:block th:with="etiquetasString=${''}">
    <p><i class="fa fa-tags"></i> Tags:
        <span th:each="etiqueta, etiquetaStat : ${articulo.listaEtiquetas}">
            <span class="badge badge-info" th:text="${etiqueta.etiqueta}"></span>
            <span th:if="${!etiquetaStat.last}"> </span>
        </span>
    </p>
</th:block>

<th:block>
    <p th:text="${articulo.getCuerpo()}"></p>

    <!-- No esta funcionando el condicionar, revisar luego -->
    <div style="display: inline-block;" th:if="${currentUser != null && (currentUser.administrator or currentUser.autor)}">
        <form th:action="@{/editarArticulo}" method="post">
            <input type="hidden" name="idArticulo" th:value="${articulo.getId}" />
            <button type="submit" id="editar-button" class="btn btn-primary">Editar</button>
        </form>
    </div>

    <div style="display: inline-block;" th:if="${currentUser != null && (currentUser.administrator or currentUser.autor)}">
        <form th:action="@{/eliminarArticulo}" method="post">
            <input type="hidden" name="idTitulo" th:value="${articulo.getTitulo}" />
            <button type="submit" id="delete-button" class="btn btn-danger">Eliminar</button>
        </form>
    </div>


</th:block>
</body>
</html>